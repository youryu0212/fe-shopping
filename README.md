# [ 데모페이지 ](https://hoi-coupang.herokuapp.com/)

### Task

- [x]  쿠팡 헤더 UI 구현
- [x]  쿠팡 베너 UI 구현
- [x]  HTML 코드 JS로 옮기기
- [x]  SASS 스타일 사용
- [x]  express 서버 구축 및 json 송수신
- [x]  베너 캐러셀 기능
- [x]  자동완성 기능
- [x]  자동완성 글자 하이라이트
- [x]  최근 검색어 UI
- [x]  최근 검색어 기능 (로컬스토리지 활용)
- [ ]  키 다운시 자동완성 글자에 포커스 맞춰지게
- [ ]  드롭박스에 글씨 선택시 검색창에 해당 글씨 적용

### 구현 과정

- 드롭박스(검색창에 사용) 구현을 header에서 진행했는데, 드롭박스의 경우 별도로 분리해 다른 곳에서도 로직을 활용할 수 있을 것 같아 분리
- 헤더는 드롭박스를 상속받아 메소드를 사용했으며, 헤더에서 해당 메소드를 호출할 시 this가 헤더에 바인딩되어 별도 객체로 사용됨
- 자동완성 및 서버에서 넘어오는 데이터는 헤더에서 받아서 부모 객체(드롭박스)의 메소드를 호출

### 미구현 내용

- 글자 선택시 상단 영역에 글자 변경 기능은 드롭박스 부분은 토글되기 때문에 상위 태그에 버블링을 이용해 진행할 예정


### 폴더 구조

<img width="229" alt="image" src="https://user-images.githubusercontent.com/87521172/158934708-71c5d897-6fdc-4e7c-b9ee-c0e5cb6322ac.png">

<img width="255" alt="image" src="https://user-images.githubusercontent.com/87521172/158934739-3f40f3af-df86-4bb9-bd51-bef8f74f644a.png">


- 클라이언트에서는 각 화면 (헤더, 메인, 푸터)별로 폴더를 나눠서 해당 폴더에 필요한 모듈들과, 그 모듈들을 관리해줄 entry point (index.js)를 구성
- 각 폴더별로 index.js가 존재
- 최상위의 index.js가 진입점이고 여기서 각 폴더별 index.js를 import해서 실행시키는 구조
- 서버에서의 진입점은 server.js
- src 아래에 각 폴더별로 데이터들과 라우터(router.js)를 구성
- 서버에 요청이 들어오면 요청별로 라우팅해서 해당 라우터에서 처리할 수 있도록 구조를 설계
### 궁금한점

```javascript
const headerMainMethod = {
  constructor: HeaderMain,
  //기타 메소드 ...
}
const HeaderMain = function (){
  //생성자 함수
}
HeaderMain.prototype = Object.assign(Object.create(DropBox.prototype), headerMainMethod);

```

1. 프로토타입을 지정하는 방식 외에 assign을 이용해서도 상속이 가능할 것 같아서 한번 시도해 봄. 확인을 위해 브라우저에서 찍어봤을때 프로토타입 체인은 잘 연결되었고, DropBox의 메소드들 역시 정상적으로 동작. 상속이 잘 구현된게 맞을까??

2. form 태그 "submit"이벤트를 preventDefault로 막아두고 로컬스토리지에 저장하도록 구현 엔터를 입력해 form태그 제출 이벤트를 발생시켜보면 새로고침 되지 않고 로컬스토리지로 잘 들어감 그런데 form 태그와 연동하고싶은 버튼이 이미지로 되어있어, 해당 버튼에서 this.searchForm.submit() 의 형태로 form을 submit해주니 로컬스토리지로 들어가는게 아니라 리로드가 진행.  서브밋 호출이 일어난 방식이 달라도 addEventListener로 등록해둔 preventDefault가 되는 것 아닐까 ? 라고 생각했는데 왜 다른 방식으로 동작하는 것인지 궁금


### 해답
1. 상속 잘 된게 맞는 것 같다.
2. .submit() 메소드는 서브밋 동작을 수행하기는 하지만 서브밋 이벤트가 발생하지는 않는다고 한다. 주의해야겠다.


### 현재 구조 문제점

 - 상속연습은 좋았지만 드롭박스의 경우 헤더와 무관한 객체인데 상속시킨 문제. 상속의 실익이 전혀 없으며, 오히려 상속시키면 안되는 관계. 분리시키기
 - 폴더구조에 일관성?? 내 생각대로 구현되어 있어서 나에게는 편한 구조라지만 협업했을때 다른 개발자가 이 코드를 이해하기 쉬울까?? 협업에 유리할까?? 변화에 유연할까??
 - MV* 패턴등을 적용하기에는 뭔가 지금 단계의 프로젝트에서는 이익보다 손해가 더 커보이기 때문에 각 디자인 패턴들의 장점이 와닿지는 않는다. 그래도 일단 적용해보고 판단해야겠지?
